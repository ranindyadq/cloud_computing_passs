<!DOCTYPE html>
<html lang="en">
<head>
  <%- include('partials/head') %>
  <title>Data Tersimpan</title>
</head>
<body>
    <div class="dark-toggle-wrapper">
        <button class="dark-toggle" onclick="toggleDarkMode()">🌙</button>
    </div>   
    <div class="container">
        <h1>📋 Data Tersimpan</h1>

        <% if (rows.length === 0) { %>
        <p style="text-align: center;">⚠️ Belum ada data yang disimpan.</p>
        <% } else { %>
        <div class="table-container">
            <table>
            <thead>
                <tr>
                <th>Nama</th>
                <th>Email</th>
                </tr>
            </thead>
            <tbody>
                <% rows.forEach(row => { %>
                <tr>
                    <td><%= row.nama %></td>
                    <td><%= row.email %></td>
                </tr>
                <% }) %>
            </tbody>
            </table>
        </div>
        <% } %>

        <a href="/" class="lihat-data">← Kembali ke Form</a>
    </div>

    <script>
        function toggleDarkMode() {
        document.body.classList.toggle('dark-mode');
        const isDark = document.body.classList.contains('dark-mode');
        localStorage.setItem('darkMode', isDark);
        document.querySelector('.dark-toggle').textContent = isDark ? '☀️' : '🌙';
        }
    
        window.addEventListener('DOMContentLoaded', () => {
        const isDark = localStorage.getItem('darkMode') === 'true';
        if (isDark) document.body.classList.add('dark-mode');
        document.querySelector('.dark-toggle').textContent = isDark ? '☀️' : '🌙';
        });
    </script>  
</body>
</html>
